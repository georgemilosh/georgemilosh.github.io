<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta name="google-site-verification" content="google-site-verification=E4KIsiGdkAKwCvDyL7iYIfmitMwtc7hWhBdUV4jZX5M"> <meta name="msvalidate.01" content=""> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>academic diagrams | George Miloshevich</title> <meta name="author" content="George Miloshevich"> <meta name="description" content="how to make pretty latex diagrams"> <meta name="keywords" content="George Miloshevich, Physicist, Machine Learning, Climate, Scientist"> <meta property="og:site_name" content="George Miloshevich"> <meta property="og:type" content="website"> <meta property="og:title" content="George Miloshevich | academic diagrams"> <meta property="og:url" content="https://georgemilosh.github.io/blog/2015/diagrams/"> <meta property="og:description" content="how to make pretty latex diagrams"> <meta property="og:locale" content="en"> <meta name="twitter:card" content="summary"> <meta name="twitter:title" content="academic diagrams"> <meta name="twitter:description" content="how to make pretty latex diagrams"> <meta name="twitter:site" content="@george_milosh"> <meta name="twitter:creator" content="@george_milosh"> <script type="application/ld+json">
      {
        "author":
        {
          "@type": "Person",
          "name": "George  Miloshevich"
        },
        "url": "https://georgemilosh.github.io/blog/2015/diagrams/",
        "@type": "WebSite",
        "description": "how to make pretty latex diagrams",
        "headline": "academic diagrams",
        "sameAs": ["https://orcid.org/https://orcid.org/0000-0001-9896-1704", "https://scholar.google.com/citations?user=QMFVv0AAAAAJ", "https://github.com/georgemilosh", "https://www.linkedin.com/in/george-miloshevich-2b834212a", "https://twitter.com/george_milosh"],
        "name": "George  Miloshevich",
        "@context": "https://schema.org"
      }
    </script> <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha256-DF7Zhf293AJxJNTmh5zhoYYIMs2oXitRfBjY+9L//AY=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.1/css/academicons.min.css" integrity="sha256-i1+4qU2G2860dGGIOJscdC30s9beBXjFfzjWLjBRsBg=" crossorigin="anonymous"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/github.css" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%9A%9B%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css"> <link rel="canonical" href="https://georgemilosh.github.io/blog/2015/diagrams/"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/native.css" media="none" id="highlight_theme_dark"> <script src="/assets/js/theme.js"></script> <script src="/assets/js/dark_mode.js"></script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"><span class="font-weight-bold">George </span>Miloshevich</a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about</a> </li> <li class="nav-item active"> <a class="nav-link" href="/blog/">blog<span class="sr-only">(current)</span></a> </li> <li class="nav-item "> <a class="nav-link" href="/talks/">talks</a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">publications</a> </li> <li class="nav-item "> <a class="nav-link" href="/projects/">projects</a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">cv</a> </li> <li class="nav-item dropdown "> <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">more</a> <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown"> <a class="dropdown-item" href="/repositories/">repositories</a> <div class="dropdown-divider"></div> <a class="dropdown-item" href="/teaching/">teaching</a> </div> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="fas fa-moon"></i> <i class="fas fa-sun"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5"> <div class="post"> <header class="post-header"> <h1 class="post-title">academic diagrams</h1> <p class="post-meta">May 15, 2015</p> <p class="post-tags"> <a href="/blog/2015"> <i class="fas fa-calendar fa-sm"></i> 2015 </a>   ·   <a href="/blog/tag/latex"> <i class="fas fa-hashtag fa-sm"></i> latex</a>   <a href="/blog/tag/diagrams"> <i class="fas fa-hashtag fa-sm"></i> diagrams</a>   <a href="/blog/tag/casimirs"> <i class="fas fa-hashtag fa-sm"></i> casimirs</a>     ·   <a href="/blog/category/how-to"> <i class="fas fa-tag fa-sm"></i> how-to</a>   </p> </header> <article class="post-content"> <p>This short blog is meant to provide some reference for making diagrams in <code class="language-plaintext highlighter-rouge">LaTeX</code> using <a href="https://www.bu.edu/math/files/2013/08/tikzpgfmanual.pdf" target="\_blank" rel="external nofollow noopener">TikZ&amp;PGF</a> package. While the manual is quite in-depth I decided to provide my own notes to give an introduction to the impatient.</p> <div class="d-flex justify-content-center"> <div> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/diagram-f1-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/diagram-f1-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/diagram-f1-1400.webp"></source> <img src="/assets/img/diagram-f1.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> Foliation of phase space by Casimirs in *finite* dimensions. Observe how dynamical system evolves on individual Casimir leaves. </div> <p>Below, I show a how to make this pretty diagram I created for my thesis <a href="https://repositories.lib.utexas.edu/handle/2152/68628" target="\_blank" rel="external nofollow noopener">Thesis 2018</a></p> <h2 id="setting-up-tikz">Setting up TikZ</h2> <p>The details don’t matter very much in this post, but this object comes from noncanonical Hamiltonian formalism. The idea is to show how the phase-space is <em>foliated</em> by such <em>Casimir</em> leaves, which are functionals that constrain trajectories of the system. I wanted a blob describing the space I am in, \(Z\), as well as the pictures of the leaves and the trajectory.</p> <p>First we have to load the appropriate packages that will be needed prior to using the tikz environement:</p> <div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\documentclass</span><span class="p">{</span>article<span class="p">}</span>
<span class="k">\usepackage</span><span class="p">{</span>graphics<span class="p">}</span>
<span class="k">\usepackage</span><span class="p">{</span>tikz<span class="p">}</span>

<span class="k">\def\calc</span><span class="p">{</span><span class="k">\mathcal</span><span class="p">{</span>C<span class="p">}}</span> <span class="c">%Defining the mathematical symbol shortcuts</span>
<span class="k">\def\calz</span><span class="p">{</span><span class="k">\mathcal</span><span class="p">{</span>Z<span class="p">}}</span>
<span class="c">%--------------------------------------% </span>
</code></pre></div></div> <p>The remainder of the commands will go instide the tikz environment</p> <div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">%-- Main Document --------------------------------------------------</span>
<span class="nt">\begin{document}</span>
  <span class="nt">\begin{tikzpicture}</span>[scale=1] <span class="c">% scale allows us to change the size of the diagram</span>
      <span class="c">% tikz enviornment is here  </span>
  <span class="nt">\end{tikzpicture}</span>
		
<span class="nt">\end{document}</span>
</code></pre></div></div> <h2 id="creating-the-leaf">Creating the leaf</h2> <p>The main object of the diagram is the leaf itself. We will represent them by curved page-like sheets. First we will work on the contour lines of this sheet. To get a better idea we plot auxiliary coordinate axes This can be done via the following command. The \draw command creates the graphical object. To draw a line use – providing the initial and final coordinates on the left and the right respectively. The various options of the \draw environment can be specified in the brackets.</p> <div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code>     <span class="k">\draw</span><span class="na">[step=.5cm,gray,very thin]</span> (-1.4,-1.4) grid (1.4,1.4);
     <span class="k">\draw</span> (-1.5,0) -- (1.5,0);
     <span class="k">\draw</span> (0,-1.5) -- (0,1.5);
</code></pre></div></div> <p>The coordinate axes can be seen the leftmost panel below.</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/diagram_0_0-f1-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/diagram_0_0-f1-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/diagram_0_0-f1-1400.webp"></source> <img src="/assets/img/diagram_0_0-f1.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/diagram_0_1-f1-1-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/diagram_0_1-f1-1-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/diagram_0_1-f1-1-1400.webp"></source> <img src="/assets/img/diagram_0_1-f1-1.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/diagram_2-f1-1-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/diagram_2-f1-1-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/diagram_2-f1-1-1400.webp"></source> <img src="/assets/img/diagram_2-f1-1.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> Here we show how to make a bunch of superimposed sheets. </div> <p>The next step is to draw the ouline of the sheet (mid-panel above). We start by drawing a line, which starts at \((-0.5,-0.25)\) and ends at \((1.75,-0.75)\). Because the line is epxected to curve we use <strong>controls</strong> command, and specify additional two points that control the trajectory (this is similar to bezier line in say Corel Draw). To make things more clear we also plot the inidividual points as circles. They are just a scafolding to be removed soon.</p> <div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="k">\filldraw</span> [gray] (-.5,-.25) circle (2pt)
     (.5,-.25) circle (2pt)
     (1,-.35) circle (2pt)
     (1.75,-.75) circle (2pt);
    <span class="k">\draw</span><span class="na">[draw=red!50!black,  thick]</span> (-.5,-.25) .. controls (.5,-.25) and (1,-.35) .. (1.75,-.75);
</code></pre></div></div> <p>The rest of the sheet can be made likewise which is trivial. The nice thing about TikZ is that we can automatically clone the sheet once it is ready to create foliation via a for loop:</p> <div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="k">\foreach</span> <span class="k">\x</span> in <span class="p">{</span>-.2,0,...,.4<span class="p">}</span>	
	<span class="k">\filldraw</span><span class="na">[fill=red!20!white, draw=red!50!black, ultra thick]</span> (-.5,-.25+<span class="k">\x</span>) 
		.. controls (.5,-.25+<span class="k">\x</span>) and (1,-.35+<span class="k">\x</span>) .. (1.75,-.75+<span class="k">\x</span>)
		.. controls (1.5,-1+<span class="k">\x</span>) and (1.15,-1.5+<span class="k">\x</span>) .. (1,-1.85+<span class="k">\x</span>)
		.. controls (.5,-1.6+<span class="k">\x</span>) and (-.5,-1.5+<span class="k">\x</span>) .. (-1.25,-1.5+<span class="k">\x</span>)
		.. controls (-1.1,-1+<span class="k">\x</span>) and (-.75,-.5+<span class="k">\x</span>) .. (-.5,-.25+<span class="k">\x</span>);
</code></pre></div></div> <p>Subsequently, the trajectory and the perpendicular can be made. We just need to know how to draw arrows, together with a label.</p> <div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="k">\draw</span><span class="na">[-&gt;,ultra thick]</span> (0.25,-.55) -- +(90:.5) node[midway,left,scale=.5] <span class="p">{$</span><span class="nv">\nabla\calc</span><span class="p">$}</span>; 
</code></pre></div></div> <p>To make a vertical arrow (perpendicular to the leaf) we can use</p> <div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\draw</span><span class="na">[ultra thick]</span> (0.25,-.55) -- ++(-10:.1)-- ++(90:.1)-- ++(170:.1);
					<span class="k">\node</span> at (-1.75,-.5) [] <span class="p">{$</span><span class="nv">\calz</span><span class="p">$}</span>;		
</code></pre></div></div> <p>Here we have used ``++’’ command, which is based on relative coordinates (relative to the previous point). Otherwise absolute coordinate system is used. To make the green curving trajectory add the following line</p> <div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   <span class="k">\draw</span><span class="na">[green!50!black, ultra thick,-&gt;]</span> (0-.5,1/2-1) .. controls (1/2-.5,1/2-1) and (1/2-.5,0-1) 
        .. (2/2-.5,0-1) .. controls +(.555/4,0) and
		 +(0,-0.555/4) .. (2.5/2-.5,.5/2-1) node[very near end,above,scale=.5] <span class="p">{$</span><span class="nb">z</span><span class="o">(</span><span class="nb">t</span><span class="o">)</span><span class="p">$}</span>;
</code></pre></div></div> <p>We also add a tooltip which specifies that the leaf is a Casimir leaf:</p> <div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   <span class="k">\draw</span><span class="na">[-&gt;,ultra thick]</span> (-3.5,-1.5) .. controls (-2,-1.5) and (-1,-1.5) .. (-1,-1.1) 
          node[very near start,above,scale=.5]<span class="p">{$</span><span class="nv">\calc</span><span class="nb"> </span><span class="o">=</span><span class="nb"> const</span><span class="p">$</span>.<span class="p">}</span>;
</code></pre></div></div> <h2 id="exercise-for-a-student">Exercise for a student:</h2> <p>Create the outline for the phase space (blue shaded region).</p> <h2 id="extracting-diagram-f1pdf">Extracting diagram-f1.pdf</h2> <p>This last paragraph is for those who want to extract a small image out of the pdf. The name of the file is <code class="language-plaintext highlighter-rouge">diagram.tex</code> and it can be made to extract a file by the name diagram-f1.pdf using a script</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pdflatex <span class="nt">--jobname</span><span class="o">=</span>diagram-f1 diagram.tex
</code></pre></div></div> </article> </div> </div> <footer class="fixed-bottom"> <div class="container mt-0"> © Copyright 2023 George Miloshevich. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Photos from <a href="https://unsplash.com" target="_blank" rel="external nofollow noopener">Unsplash</a>. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha256-fgLAgv7fyCGopR/gBNq2iW3ZKIdqIcyshnUULC4vex8=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script type="text/javascript">$(function(){$('[data-toggle="tooltip"]').tooltip()});</script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.8/dist/medium-zoom.min.js" integrity="sha256-7PhEpEWEW0XXQ0k6kQrPKwuoIomz8R8IYyuU1Qew4P8=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js"></script> <script defer src="/assets/js/common.js"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>